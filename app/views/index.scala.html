@(ciphertexts: Option[String], messages: Option[String], info: Option[List[List[List[Option[ws.bask.crypt.Pair]]]]])

@main("Encode") {

<div class="panel panel-info">
    <div class="panel-heading">
        <h3 class="panel-title">Input ciphertexts. Each row - one cipher. All with same key.</h3>
    </div>
    <div class="panel-body">
        <form role="form" action="/" method="post">
            <p>
                This logic is designate to break one time pad cipher, which uses the same key to encrypt all messages. Put multiple ciphertexts, encoded with the same key, in the textarea below. Each row should contain one ciphertext.
            </p>
            <div class="form-group">
                <label for="ciphertexts">Ciphertexts (TEXT)</label>
                <textarea class="form-control" name="ciphertexts" rows="15" id="ciphertexts">@ciphertexts.orNull</textarea>
            </div>
            <button type="submit" class="btn btn-default">Break</button>
        </form>
    </div>
</div>
@if(info.isDefined) {
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Broken code</h3>
    </div>
    <div class="panel-body">
        <form role="form">
            @for((col,c) <- info.get.zipWithIndex) {
            <div class="form-group">
                <label>Column #@c</label>
                <table>
                @for((rowA,rA) <- col.zipWithIndex) {
                    <tr>
                        <td>@rA</td>
                        @for((pair,rB) <- rowA.zipWithIndex) {
                        <td>
                            @if(pair.isDefined) {
                                @pair.get.toString
                            }
                        </td>
                        }
                    </tr>
                }
                </table>
            </div>
            }
            <div class="form-group">
                <label for="messages">Messages</label>
                <textarea class="form-control" name="messages" rows="15" id="messages">@messages.orNull</textarea>
            </div>
        </form>
    </div>
</div>
}

}
